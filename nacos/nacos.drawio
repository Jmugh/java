<mxfile host="Electron" agent="Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) draw.io/27.0.5 Chrome/134.0.6998.205 Electron/35.3.0 Safari/537.36" version="27.0.5" pages="4">
  <diagram name="发布配置" id="NhvVBfVxDPlCu0VQH3bw">
    <mxGraphModel dx="1148" dy="677" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="ANxWioYS4rQmLXo-8IIM-3" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="ANxWioYS4rQmLXo-8IIM-1" target="ANxWioYS4rQmLXo-8IIM-2">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ANxWioYS4rQmLXo-8IIM-1" value="" style="shape=umlActor;verticalLabelPosition=bottom;verticalAlign=top;html=1;outlineConnect=0;" vertex="1" parent="1">
          <mxGeometry x="280" y="80" width="40" height="80" as="geometry" />
        </mxCell>
        <mxCell id="ANxWioYS4rQmLXo-8IIM-5" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="ANxWioYS4rQmLXo-8IIM-2" target="ANxWioYS4rQmLXo-8IIM-4">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ANxWioYS4rQmLXo-8IIM-2" value="发布配置" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="240" y="200" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="ANxWioYS4rQmLXo-8IIM-8" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="ANxWioYS4rQmLXo-8IIM-4" target="ANxWioYS4rQmLXo-8IIM-6">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="SmZHEJ3BcE0VEUmvVLrm-1" value="否" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="ANxWioYS4rQmLXo-8IIM-8">
          <mxGeometry x="0.0514" y="1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ANxWioYS4rQmLXo-8IIM-9" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="ANxWioYS4rQmLXo-8IIM-4" target="ANxWioYS4rQmLXo-8IIM-7">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="SmZHEJ3BcE0VEUmvVLrm-2" value="是" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="ANxWioYS4rQmLXo-8IIM-9">
          <mxGeometry x="-0.1903" y="1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ANxWioYS4rQmLXo-8IIM-4" value="是否已存在" style="rhombus;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="240" y="280" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="ANxWioYS4rQmLXo-8IIM-14" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="ANxWioYS4rQmLXo-8IIM-6" target="ANxWioYS4rQmLXo-8IIM-12">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ANxWioYS4rQmLXo-8IIM-17" value="addConfigInfo" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=9;" vertex="1" connectable="0" parent="ANxWioYS4rQmLXo-8IIM-14">
          <mxGeometry x="-0.6633" y="2" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ANxWioYS4rQmLXo-8IIM-6" value="新增配置" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="80" y="360" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="ANxWioYS4rQmLXo-8IIM-15" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="ANxWioYS4rQmLXo-8IIM-7" target="ANxWioYS4rQmLXo-8IIM-12">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ANxWioYS4rQmLXo-8IIM-19" value="&lt;font style=&quot;font-size: 9px;&quot;&gt;updateConfigInfoCas&lt;/font&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="ANxWioYS4rQmLXo-8IIM-15">
          <mxGeometry x="-0.5256" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ANxWioYS4rQmLXo-8IIM-7" value="更新配置" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="400" y="360" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="ANxWioYS4rQmLXo-8IIM-13" value="" style="group" vertex="1" connectable="0" parent="1">
          <mxGeometry x="240" y="480" width="120" height="50" as="geometry" />
        </mxCell>
        <mxCell id="ANxWioYS4rQmLXo-8IIM-10" value="" style="ellipse;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="ANxWioYS4rQmLXo-8IIM-13">
          <mxGeometry y="14.285714285714286" width="120" height="35.714285714285715" as="geometry" />
        </mxCell>
        <mxCell id="ANxWioYS4rQmLXo-8IIM-11" value="" style="ellipse;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" vertex="1" parent="ANxWioYS4rQmLXo-8IIM-13">
          <mxGeometry y="7.142857142857143" width="120" height="35.714285714285715" as="geometry" />
        </mxCell>
        <mxCell id="ANxWioYS4rQmLXo-8IIM-12" value="DB" style="ellipse;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="ANxWioYS4rQmLXo-8IIM-13">
          <mxGeometry width="120" height="35.714285714285715" as="geometry" />
        </mxCell>
        <mxCell id="ANxWioYS4rQmLXo-8IIM-16" value="&lt;font style=&quot;color: rgb(255, 153, 153);&quot;&gt;根据dataId, group, tenant查询&lt;/font&gt;" style="text;html=1;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="320" y="260" width="180" height="30" as="geometry" />
        </mxCell>
        <UserObject label="&lt;pre style=&quot;forced-color-adjust: none; color: rgb(188, 190, 196); font-size: 12px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial; font-family: &amp;quot;JetBrains Mono&amp;quot;, monospace;&quot;&gt;&lt;font style=&quot;forced-color-adjust: none; font-size: 7px;&quot;&gt;&lt;span style=&quot;forced-color-adjust: none; color: rgb(207, 142, 109);&quot;&gt;插入语句：final &lt;/span&gt;String sql = historyConfigInfoMapper.insert(Arrays.&lt;span style=&quot;forced-color-adjust: none; font-style: italic;&quot;&gt;asList&lt;/span&gt;(&lt;span style=&quot;forced-color-adjust: none; color: rgb(106, 171, 115);&quot;&gt;&quot;id&quot;&lt;/span&gt;, &lt;span style=&quot;forced-color-adjust: none; color: rgb(106, 171, 115);&quot;&gt;&quot;data_id&quot;&lt;/span&gt;, &lt;span style=&quot;forced-color-adjust: none; color: rgb(106, 171, 115);&quot;&gt;&quot;group_id&quot;&lt;/span&gt;, &lt;span style=&quot;forced-color-adjust: none; color: rgb(106, 171, 115);&quot;&gt;&quot;tenant_id&quot;&lt;/span&gt;, &lt;span style=&quot;forced-color-adjust: none; color: rgb(106, 171, 115);&quot;&gt;&quot;app_name&quot;&lt;/span&gt;, &lt;span style=&quot;forced-color-adjust: none; color: rgb(106, 171, 115);&quot;&gt;&quot;content&quot;&lt;/span&gt;, &lt;span style=&quot;forced-color-adjust: none; color: rgb(106, 171, 115);&quot;&gt;&quot;md5&quot;&lt;/span&gt;, &lt;span style=&quot;forced-color-adjust: none; color: rgb(106, 171, 115);&quot;&gt;&quot;src_ip&quot;&lt;/span&gt;,&lt;br style=&quot;forced-color-adjust: none;&quot;&gt;                &lt;span style=&quot;forced-color-adjust: none; color: rgb(106, 171, 115);&quot;&gt;&quot;src_user&quot;&lt;/span&gt;, &lt;span style=&quot;forced-color-adjust: none; color: rgb(106, 171, 115);&quot;&gt;&quot;gmt_modified&quot;&lt;/span&gt;, &lt;span style=&quot;forced-color-adjust: none; color: rgb(106, 171, 115);&quot;&gt;&quot;op_type&quot;&lt;/span&gt;, &lt;span style=&quot;forced-color-adjust: none; color: rgb(106, 171, 115);&quot;&gt;&quot;encrypted_data_key&quot;&lt;/span&gt;)); &lt;/font&gt;&lt;/pre&gt;" id="ANxWioYS4rQmLXo-8IIM-21">
          <mxCell style="text;html=1;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
            <mxGeometry x="60" y="540" width="610" height="30" as="geometry" />
          </mxCell>
        </UserObject>
        <mxCell id="kevR_3cgb8OESYw3zo87-1" value="configController" style="ellipse;shape=cloud;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="385" y="190" width="150" height="60" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="RrKOga5QuH-nId7VlTp6" name="查询配置">
    <mxGraphModel dx="2303" dy="871" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="O9CYYktAqLsnNuZ2kbmt-3" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="O9CYYktAqLsnNuZ2kbmt-4" target="O9CYYktAqLsnNuZ2kbmt-7">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="O9CYYktAqLsnNuZ2kbmt-4" value="查询配置" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="240" y="200" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="O9CYYktAqLsnNuZ2kbmt-5" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="O9CYYktAqLsnNuZ2kbmt-7" target="O9CYYktAqLsnNuZ2kbmt-10">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="WS-sEYoIkDYLyvWRWr_W-1" value="是" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="O9CYYktAqLsnNuZ2kbmt-5">
          <mxGeometry x="0.0125" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="O9CYYktAqLsnNuZ2kbmt-6" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="O9CYYktAqLsnNuZ2kbmt-7" target="O9CYYktAqLsnNuZ2kbmt-13">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="WS-sEYoIkDYLyvWRWr_W-2" value="否" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="O9CYYktAqLsnNuZ2kbmt-6">
          <mxGeometry x="-0.1286" y="2" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="O9CYYktAqLsnNuZ2kbmt-7" value="是否已存在" style="rhombus;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="240" y="280" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="O9CYYktAqLsnNuZ2kbmt-10" value="查询缓存" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="80" y="360" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="O9CYYktAqLsnNuZ2kbmt-11" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" source="WS-sEYoIkDYLyvWRWr_W-24" target="O9CYYktAqLsnNuZ2kbmt-16">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="460" y="460" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="WS-sEYoIkDYLyvWRWr_W-26" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="O9CYYktAqLsnNuZ2kbmt-13" target="WS-sEYoIkDYLyvWRWr_W-24">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="O9CYYktAqLsnNuZ2kbmt-13" value="加锁" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="400" y="360" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="O9CYYktAqLsnNuZ2kbmt-14" value="" style="group" vertex="1" connectable="0" parent="1">
          <mxGeometry x="610" y="435" width="120" height="50" as="geometry" />
        </mxCell>
        <mxCell id="O9CYYktAqLsnNuZ2kbmt-15" value="" style="ellipse;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="O9CYYktAqLsnNuZ2kbmt-14">
          <mxGeometry y="14.285714285714286" width="120" height="35.714285714285715" as="geometry" />
        </mxCell>
        <mxCell id="O9CYYktAqLsnNuZ2kbmt-16" value="" style="ellipse;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" vertex="1" parent="O9CYYktAqLsnNuZ2kbmt-14">
          <mxGeometry y="7.142857142857143" width="120" height="35.714285714285715" as="geometry" />
        </mxCell>
        <mxCell id="O9CYYktAqLsnNuZ2kbmt-17" value="DB" style="ellipse;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="O9CYYktAqLsnNuZ2kbmt-14">
          <mxGeometry width="120" height="35.714285714285715" as="geometry" />
        </mxCell>
        <mxCell id="WS-sEYoIkDYLyvWRWr_W-3" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="WS-sEYoIkDYLyvWRWr_W-4" target="WS-sEYoIkDYLyvWRWr_W-10">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="10" y="200" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="WS-sEYoIkDYLyvWRWr_W-4" value="查询配置" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-40" y="120" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="WS-sEYoIkDYLyvWRWr_W-18" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;shadow=0;dashed=1;" edge="1" parent="1" source="WS-sEYoIkDYLyvWRWr_W-10" target="O9CYYktAqLsnNuZ2kbmt-4">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="WS-sEYoIkDYLyvWRWr_W-20" value="grpc请求" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="WS-sEYoIkDYLyvWRWr_W-18">
          <mxGeometry x="-0.3857" y="-2" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="WS-sEYoIkDYLyvWRWr_W-10" value="RpcClinet" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-40" y="200" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="WS-sEYoIkDYLyvWRWr_W-22" value="某服务" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=1;fillColor=#f8cecc;strokeColor=#b85450;arcSize=43;" vertex="1" parent="1">
          <mxGeometry x="-20" y="80" width="80" height="30" as="geometry" />
        </mxCell>
        <mxCell id="WS-sEYoIkDYLyvWRWr_W-23" value="nacos服务端" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=1;fillColor=#f8cecc;strokeColor=#b85450;arcSize=43;" vertex="1" parent="1">
          <mxGeometry x="260" y="150" width="80" height="30" as="geometry" />
        </mxCell>
        <mxCell id="WS-sEYoIkDYLyvWRWr_W-27" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="WS-sEYoIkDYLyvWRWr_W-24" target="WS-sEYoIkDYLyvWRWr_W-25">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="WS-sEYoIkDYLyvWRWr_W-24" value="查询db" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="400" y="440" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="WS-sEYoIkDYLyvWRWr_W-25" value="解锁" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="400" y="520" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="WS-sEYoIkDYLyvWRWr_W-28" value="&lt;font style=&quot;color: rgb(255, 153, 153);&quot;&gt;key:dataId+group+tenant&lt;/font&gt;&lt;div&gt;&lt;font style=&quot;color: rgb(255, 153, 153);&quot;&gt;ConcurrentHashMap的本地锁&lt;/font&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="215" y="445" width="170" height="30" as="geometry" />
        </mxCell>
        <mxCell id="y2gdokhXy4EoXJUzzaqO-1" value="configController" style="ellipse;shape=cloud;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="385" y="160" width="150" height="60" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="NA2DoAjyN3UtixqoPiJv" name="服务注册">
    <mxGraphModel dx="2066" dy="1219" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="OaGo7LRaTalPPzjbpsAb-1" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="OaGo7LRaTalPPzjbpsAb-2" target="OaGo7LRaTalPPzjbpsAb-7">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="OaGo7LRaTalPPzjbpsAb-2" value="服务注册" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="490" y="220" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="OaGo7LRaTalPPzjbpsAb-3" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="OaGo7LRaTalPPzjbpsAb-7" target="OaGo7LRaTalPPzjbpsAb-8">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="OaGo7LRaTalPPzjbpsAb-4" value="是(ephmeral=true)" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="OaGo7LRaTalPPzjbpsAb-3">
          <mxGeometry x="0.0125" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="OaGo7LRaTalPPzjbpsAb-5" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="OaGo7LRaTalPPzjbpsAb-7" target="OaGo7LRaTalPPzjbpsAb-11">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="OaGo7LRaTalPPzjbpsAb-6" value="否" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="OaGo7LRaTalPPzjbpsAb-5">
          <mxGeometry x="-0.1286" y="2" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="OaGo7LRaTalPPzjbpsAb-7" value="临时实例" style="rhombus;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="490" y="300" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="OaGo7LRaTalPPzjbpsAb-35" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="OaGo7LRaTalPPzjbpsAb-8" target="OaGo7LRaTalPPzjbpsAb-27">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="OaGo7LRaTalPPzjbpsAb-8" value="插入缓存ConcurrentHashMap" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="330" y="380" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="OaGo7LRaTalPPzjbpsAb-10" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="OaGo7LRaTalPPzjbpsAb-11" target="OaGo7LRaTalPPzjbpsAb-15">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="710" y="460" as="targetPoint" />
            <Array as="points" />
          </mxGeometry>
        </mxCell>
        <mxCell id="OaGo7LRaTalPPzjbpsAb-36" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="OaGo7LRaTalPPzjbpsAb-11" target="OaGo7LRaTalPPzjbpsAb-27">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="OaGo7LRaTalPPzjbpsAb-11" value="持久化" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="650" y="380" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="OaGo7LRaTalPPzjbpsAb-12" value="" style="group" vertex="1" connectable="0" parent="1">
          <mxGeometry x="650" y="510" width="120" height="50" as="geometry" />
        </mxCell>
        <mxCell id="OaGo7LRaTalPPzjbpsAb-13" value="" style="ellipse;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="OaGo7LRaTalPPzjbpsAb-12">
          <mxGeometry y="14.285714285714286" width="120" height="35.714285714285715" as="geometry" />
        </mxCell>
        <mxCell id="OaGo7LRaTalPPzjbpsAb-14" value="" style="ellipse;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" vertex="1" parent="OaGo7LRaTalPPzjbpsAb-12">
          <mxGeometry y="7.142857142857143" width="120" height="35.714285714285715" as="geometry" />
        </mxCell>
        <mxCell id="OaGo7LRaTalPPzjbpsAb-15" value="DB(instance_info)" style="ellipse;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="OaGo7LRaTalPPzjbpsAb-12">
          <mxGeometry width="120" height="35.714285714285715" as="geometry" />
        </mxCell>
        <mxCell id="OaGo7LRaTalPPzjbpsAb-16" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="OaGo7LRaTalPPzjbpsAb-17" target="OaGo7LRaTalPPzjbpsAb-28">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="110" y="290" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="OaGo7LRaTalPPzjbpsAb-17" value="服务启动" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="60" y="210" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="OaGo7LRaTalPPzjbpsAb-18" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;shadow=0;dashed=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" source="OaGo7LRaTalPPzjbpsAb-20" target="OaGo7LRaTalPPzjbpsAb-2">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="250" y="390" />
              <mxPoint x="250" y="240" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="OaGo7LRaTalPPzjbpsAb-33" value="grpc服务注册请求" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="OaGo7LRaTalPPzjbpsAb-18">
          <mxGeometry x="-0.1333" y="1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="OaGo7LRaTalPPzjbpsAb-20" value="RpcClinet" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="60" y="370" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="OaGo7LRaTalPPzjbpsAb-21" value="某服务" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=1;fillColor=#f8cecc;strokeColor=#b85450;arcSize=43;" vertex="1" parent="1">
          <mxGeometry x="80" y="170" width="80" height="30" as="geometry" />
        </mxCell>
        <mxCell id="OaGo7LRaTalPPzjbpsAb-22" value="nacos服务端" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=1;fillColor=#f8cecc;strokeColor=#b85450;arcSize=43;" vertex="1" parent="1">
          <mxGeometry x="510" y="170" width="80" height="30" as="geometry" />
        </mxCell>
        <mxCell id="OaGo7LRaTalPPzjbpsAb-26" value="&lt;pre style=&quot;font-family: Menlo-Regular, monospace; font-size: 13.5pt;&quot;&gt;&lt;font style=&quot;color: rgb(255, 153, 153);&quot;&gt;发布事件通知订阅该服务的消费者实例已更新&lt;/font&gt;&lt;/pre&gt;" style="text;html=1;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="330" y="575" width="355" height="30" as="geometry" />
        </mxCell>
        <mxCell id="OaGo7LRaTalPPzjbpsAb-27" value="发布事件通知订阅者" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="490" y="490" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="OaGo7LRaTalPPzjbpsAb-29" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="OaGo7LRaTalPPzjbpsAb-28" target="OaGo7LRaTalPPzjbpsAb-20">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="OaGo7LRaTalPPzjbpsAb-31" value="是" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="OaGo7LRaTalPPzjbpsAb-29">
          <mxGeometry x="-0.15" y="-1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="OaGo7LRaTalPPzjbpsAb-30" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="OaGo7LRaTalPPzjbpsAb-28">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="60" y="390" as="targetPoint" />
            <Array as="points">
              <mxPoint x="10" y="310" />
              <mxPoint x="10" y="390" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="OaGo7LRaTalPPzjbpsAb-32" value="否" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="OaGo7LRaTalPPzjbpsAb-30">
          <mxGeometry x="-0.2" y="-4" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="OaGo7LRaTalPPzjbpsAb-28" value="临时实例" style="rhombus;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="60" y="290" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="OaGo7LRaTalPPzjbpsAb-38" value="instanceController" style="ellipse;shape=cloud;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="635" y="180" width="150" height="60" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="lNRs4LYoTOOF06PRkZmJ" name="服务发现">
    <mxGraphModel dx="2893" dy="1219" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="4H2CZhU8J7uD_gg1LADP-1" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="4H2CZhU8J7uD_gg1LADP-2" target="4H2CZhU8J7uD_gg1LADP-33">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="4H2CZhU8J7uD_gg1LADP-2" value="处理请求" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="480" y="240" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="4H2CZhU8J7uD_gg1LADP-3" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="4H2CZhU8J7uD_gg1LADP-7" target="4H2CZhU8J7uD_gg1LADP-9">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="4H2CZhU8J7uD_gg1LADP-4" value="是" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="4H2CZhU8J7uD_gg1LADP-3">
          <mxGeometry x="0.0125" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="4H2CZhU8J7uD_gg1LADP-5" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="4H2CZhU8J7uD_gg1LADP-7" target="4H2CZhU8J7uD_gg1LADP-12">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="4H2CZhU8J7uD_gg1LADP-6" value="否" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="4H2CZhU8J7uD_gg1LADP-5">
          <mxGeometry x="-0.1286" y="2" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="4H2CZhU8J7uD_gg1LADP-7" value="订阅请求" style="rhombus;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="480" y="400" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="4H2CZhU8J7uD_gg1LADP-9" value="&lt;span style=&quot;white-space-collapse: preserve;&quot;&gt;SubscribeServiceRequestHandler&lt;/span&gt;&lt;div&gt;&lt;span style=&quot;white-space-collapse: preserve;&quot;&gt;处理订阅请求&lt;/span&gt;&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="440" y="480" width="200" height="40" as="geometry" />
        </mxCell>
        <mxCell id="4H2CZhU8J7uD_gg1LADP-12" value="其他操作" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="690" y="400" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="4H2CZhU8J7uD_gg1LADP-17" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="4H2CZhU8J7uD_gg1LADP-18" target="4H2CZhU8J7uD_gg1LADP-30">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="110" y="290" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="4H2CZhU8J7uD_gg1LADP-18" value="查询服务" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="60" y="240" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="4H2CZhU8J7uD_gg1LADP-19" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;shadow=0;dashed=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" source="4H2CZhU8J7uD_gg1LADP-21" target="4H2CZhU8J7uD_gg1LADP-2">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="250" y="420" />
              <mxPoint x="250" y="260" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="4H2CZhU8J7uD_gg1LADP-20" value="grpc服务订阅请求" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="4H2CZhU8J7uD_gg1LADP-19">
          <mxGeometry x="-0.1333" y="1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="4H2CZhU8J7uD_gg1LADP-21" value="RpcClinet" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="60" y="400" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="4H2CZhU8J7uD_gg1LADP-22" value="某服务" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=1;fillColor=#f8cecc;strokeColor=#b85450;arcSize=43;" vertex="1" parent="1">
          <mxGeometry x="80" y="170" width="80" height="30" as="geometry" />
        </mxCell>
        <mxCell id="4H2CZhU8J7uD_gg1LADP-23" value="nacos服务端" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=1;fillColor=#f8cecc;strokeColor=#b85450;arcSize=43;" vertex="1" parent="1">
          <mxGeometry x="500" y="170" width="80" height="30" as="geometry" />
        </mxCell>
        <mxCell id="4H2CZhU8J7uD_gg1LADP-26" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="4H2CZhU8J7uD_gg1LADP-30" target="4H2CZhU8J7uD_gg1LADP-21">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="4H2CZhU8J7uD_gg1LADP-27" value="是" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="4H2CZhU8J7uD_gg1LADP-26">
          <mxGeometry x="-0.15" y="-1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="4H2CZhU8J7uD_gg1LADP-28" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="4H2CZhU8J7uD_gg1LADP-30" target="4H2CZhU8J7uD_gg1LADP-35">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="10" y="420" as="targetPoint" />
            <Array as="points">
              <mxPoint x="-20" y="320" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="4H2CZhU8J7uD_gg1LADP-29" value="否" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="4H2CZhU8J7uD_gg1LADP-28">
          <mxGeometry x="-0.2" y="-4" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="4H2CZhU8J7uD_gg1LADP-30" value="subscribe:是否订阅" style="rhombus;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="60" y="300" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="4H2CZhU8J7uD_gg1LADP-31" value="instanceController" style="ellipse;shape=cloud;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="635" y="180" width="150" height="60" as="geometry" />
        </mxCell>
        <mxCell id="4H2CZhU8J7uD_gg1LADP-36" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="4H2CZhU8J7uD_gg1LADP-33" target="4H2CZhU8J7uD_gg1LADP-7">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="4H2CZhU8J7uD_gg1LADP-33" value="分发请求" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="480" y="320" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="4H2CZhU8J7uD_gg1LADP-35" value="查询实例" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-80" y="400" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="4H2CZhU8J7uD_gg1LADP-38" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="4H2CZhU8J7uD_gg1LADP-9" target="4H2CZhU8J7uD_gg1LADP-37">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="540" y="520" as="sourcePoint" />
            <mxPoint x="570" y="775" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="4H2CZhU8J7uD_gg1LADP-37" value="&lt;span style=&quot;white-space-collapse: preserve;&quot;&gt;缓存到map&lt;/span&gt;" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="440" y="560" width="200" height="40" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
